<script>
  window.addEventListener("DOMContentLoaded", (event) => {
    var blog = document.querySelector("body.blog, body.blog-post");
    var subscribeModal = blog.querySelector(".modal.subscribe");
    var subscribeBtn = blog.querySelector(".btn-subscribe");

    if (subscribeBtn) {
      subscribeBtn.addEventListener("click", (e) => {
        if (subscribeBtn.classList.contains("user")) {
          subscribeModal.classList.add("active");
        } else {
          window.location.href = '/login'
        }
      });
    }

    if (subscribeModal) {
      subscribeModal.querySelector(".modal-close").addEventListener("click", (e) => {
        subscribeModal.classList.remove("active");
      });
    }

    blog.addEventListener("click", (e) => {
      if (e.target.closest(".modal.subscribe .modal-content, .btn-subscribe") == null) {
        subscribeModal.classList.remove("active");
      }
    });

    blog.querySelectorAll(".canvas p").forEach((el) => {
      if (!el.innerHTML.replace(/\s|&nbsp;/g, '')) {
        el.remove();
      }
    });
  });
</script>